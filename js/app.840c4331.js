(function(t){function e(e){for(var o,i,r=e[0],c=e[1],d=e[2],u=0,f=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/taskmanager/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),s=n.n(o);s.a},"33f6":function(t,e,n){},"39a3":function(t,e,n){"use strict";var o=n("33f6"),s=n.n(o);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f9e3");var o=n("5f5b"),s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=(n("034f"),n("2877")),c={},d=Object(r["a"])(c,a,i,!1,null,null,null),l=d.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"col-sm-12"},[n("h1",{staticClass:"taskmanager"},[t._v("Менеджер задач")]),n("h5",{staticClass:"text-left"},[t._v("Всего задач: "+t._s(t.totalTasks))]),n("h5",{staticClass:"text-left"},[t._v("Невыполненных: "+t._s(t.uncompletedTasks))]),n("div",{staticClass:"d-flex flex-row justify-content-between"},[n("div",{staticClass:"col-sm-3"},[n("button",{directives:[{name:"b-modal",rawName:"v-b-modal.todo-modal",modifiers:{"todo-modal":!0}}],staticClass:"btn btn-success btn-sm align-left d-block",attrs:{type:"button",id:"task-add"}},[t._v(" Добавить задачу ")])]),n("div",{staticClass:"col-sm-9"},[n("confirmation",{ref:"confirmation",attrs:{message:t.confirmationMessage,alertvariant:t.confirmationAlertVariant}})],1)]),n("table",{staticClass:"table table-dark table-stripped table-hover"},[t._m(0),n("tbody",t._l(t.todos,(function(e,o){return n("tr",{key:o,class:{"bg-success":e.is_completed}},[n("td",{staticClass:"todo-uid"},[t._v(t._s(e.uid))]),n("td",{staticClass:"text-left"},[t._v(t._s(e.description))]),n("td",{staticClass:"text-center"},[e.is_completed?n("span",[t._v("Выполнено")]):n("span",[t._v("Не выполнено")])]),n("td",{staticClass:"text-center"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.is_completed?n("span",[n("button",{staticClass:"btn btn-dark btn-sm",attrs:{type:"button"},on:{click:function(n){return t.onUpdateSubmit(e,!1)}}},[t._v(" Сбросить ")])]):n("span",[n("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(n){return t.onUpdateSubmit(e,!0)}}},[t._v(" Завершить ")])]),t._v(" "),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(n){return t.deleteTodo(e)}}},[t._v(" × ")])])])])})),0)])]),n("b-modal",{ref:"addTodoModal",attrs:{id:"todo-modal",centered:"",title:"Добавить задачу","hide-footer":""}},[n("b-form",{staticClass:"w-100",on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"form-description-group",label:"Описание:","label-for":"form-description-input"}},[n("b-form-input",{attrs:{id:"form-description-input",type:"text",required:"",placeholder:"Завести задачу"},model:{value:t.addTodoForm.description,callback:function(e){t.$set(t.addTodoForm,"description",e)},expression:"addTodoForm.description"}})],1),n("b-form-group",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[t._v(" Добавить ")]),t._v(" "),n("button",{staticClass:"btn btn-outline-danger",attrs:{type:"reset"}},[t._v(" Сброс ")])])],1)],1)],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"thead-light"},[n("tr",{staticClass:"table-bordered"},[n("th",[t._v("ID")]),n("th",[t._v("Описание")]),n("th",[t._v("Статус")]),n("th",[t._v("Контроль")])])])}],p=(n("a4d3"),n("e01a"),n("d3b7"),n("bc3a")),b=n.n(p),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-alert",{attrs:{show:t.dismissCountDown,variant:t.alertvariant,dismissible:""},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[n("span",{staticClass:"message"},[t._v(" "+t._s(t.message)+" ")])])],1)},v=[],g={props:{message:String,alertvariant:String},data:function(){return{dismissCountDown:0}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.dismissCountDown=t}}},_=g,y=Object(r["a"])(_,h,v,!1,null,null,null),C=y.exports,w="https://miniserver-skillfactory.herokuapp.com/",T="Ошибка сетевого соединения",k="success",x="danger",M={name:"Todo",data:function(){return{todos:[],addTodoForm:{description:""},totalTasks:"",uncompletedTasks:"",confirmationMessage:"",confirmationAlertVariant:""}},methods:{getTodos:function(){var t=this;b.a.get(w).then((function(e){t.todos=e.data.tasks,t.totalTasks="".concat(e.data.total),t.uncompletedTasks="".concat(e.data.uncompleted)})).catch((function(){t.confirmationMessage=T,t.confirmationAlertVariant=x,t.$refs.confirmation.showAlert(6)}))},resetForm:function(){this.addTodoForm.description="",this.addTodoForm.is_completed=[],this.updateTodoForm.description="",this.updateTodoForm.is_completed=[]},onSubmit:function(t){var e=this;t.preventDefault(),this.$refs.addTodoModal.hide();var n={description:this.addTodoForm.description,is_completed:!1};b.a.post(w,n).then((function(){e.getTodos(),e.confirmationMessage='Задача "'.concat(n.description,'" добавлена в список'),e.confirmationAlertVariant=k})).catch((function(){e.confirmationMessage=T,e.confirmationAlertVariant=x})).finally((function(){e.$refs.confirmation.showAlert(6)})),this.resetForm()},onReset:function(t){t.preventDefault(),this.$refs.addTodoModal.hide(),this.resetForm()},onUpdateSubmit:function(t,e){var n=this,o={description:t.description,is_completed:e},s=w+t.uid;b.a.put(s,o).then((function(){n.getTodos(),n.confirmationMessage="Статус задачи изменен",n.confirmationAlertVariant=k})).catch((function(){n.confirmationMessage=T,n.confirmationAlertVariant=x})).finally((function(){n.$refs.confirmation.showAlert(6)}))},deleteTodo:function(t){var e=this,n=w+t.uid;b.a.delete(n).then((function(){e.getTodos(),e.confirmationMessage="Задача удалена из списка",e.confirmationAlertVariant=k})).catch((function(){e.confirmationMessage=T,e.confirmationAlertVariant=x})).finally((function(){e.$refs.confirmation.showAlert(6)}))}},components:{confirmation:C},created:function(){this.getTodos()}},A=M,O=(n("39a3"),Object(r["a"])(A,f,m,!1,null,null,null)),j=O.exports;s["default"].use(u["a"]);var F=new u["a"]({mode:"history",base:"/taskmanager/",routes:[{path:"/",name:"todos",component:j}]});s["default"].use(o["a"]),s["default"].config.productionTip=!1,new s["default"]({router:F,render:function(t){return t(l)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.840c4331.js.map